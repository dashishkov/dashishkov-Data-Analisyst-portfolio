# Предобработка данных — Банк заемщики

**Цель проекта:** подготовить данные о заемщиках для дальнейшего анализа и построения модели оценки кредитного риска. Необходимо очистить и стандартизировать датасет, создать новые признаки и исследовать, как различные характеристики заемщиков ( количество детей , семейное положение , уровень дохода , цель кредита ) влияют на вероятность просрочки.

**Данные:** таблица из 21 525 записей о клиентах, включающая следующие поля:  
- `children` — число детей клиента;  
- `days_employed` — трудовой стаж в днях ( может содержать аномальные / отрицательные значения );  
- `dob_years` — возраст;  
- `education`, `education_id` — уровень образования и его код;  
- `family_status`, `family_status_id` — семейное положение и его код;  
- `gender` — пол;  
- `income_type` — тип занятости ( сотрудник, компаньон, предприниматель, пенсионер и т. д. );  
- `total_income` — ежемесячный доход;  
- `purpose` — цель получения кредита;  
- `debt` — наличие просрочки по кредиту ( 1 — был хотя бы один, 0 — не было ).

**Этапы работы:**

1. **Первичный анализ:** просмотр первых строк датафрейма, исследование структуры данных (info()), оценка распределения признаков и пропусков.

2. **Очистка данных:**  
   - обработка аномалий: удалены нереалистичные значения в столбце `children`; отрицательные `days_employed` приведены по модулю;  
   - замена пропусков: `days_employed` и `total_income` заполнены медианными значениями по группам `income_type`;  
   - приведение типов: `total_income` преобразован в `int`;  
   - нормализация строковых категорий (приведение `education` к нижнему регистру);  
   - удаление полных дубликатов.

3. **Создание новых признаков и категоризация:**  
   - создан столбец `total_income_category`, распределяющий доход по категориям E ( до 30 000 ), D ( 30 001–50 000 ), C ( 50 001–200 000 ), B ( 200 001–1 000 000 ) и A ( от 1 000 001 и выше );  
   - разработан классификатор `purpose_category`, объединяющий цели кредита в четыре групы: операции с автомобилем, операции с недвижимостью (ипотека), проведение свадьбы, получение образования;  
   - формирована укрупнённая категория `child_category` (нет детей, 1 ребёнок, 2 ребёнка, 3 и более).

4. **Исследование зависимости характеристик от дефолта:** с помощью сводных таблиц расчитаны метрики `Total_quantity` (количество заявок), `Debitors` (число дольников), `Exp_debt_percent` (доля дольников) и `Persent_increase` (относительное увеличение рисков) по различным признакам:
   - **Количество детей:** наибольшую долю просрочек имеют клиенты без детей, а семьи с 3 и более детями показывают лучшую дисциплину;  
   - **Семейное положение:** наиболее надёжны вдовы/вдовцы и разведённые; наиболее проблемные группы — гражданский брак и незамужние/неженатые;  
   - **Уровень дохода:** самой рискованной оказалась категория E ( до 30 000 ), а наиболее стабильной — D ( 30 01–50 000 ); высокая категория A показала нестабильный результат из‑за малого числа наблюдений;  
   - **Цель кредита:** лучшую платёжную дисциплину показывают ипотечные кредиты; худшие показатели — у образовательных и автокредитов.

5. **Анализ причин пропусков и выбор стратегии заполнения:** перечислены потенциальные причины отсутствующих данных ( человеческий фактор, необязательные поля, технические ошибки, непередача данных). Обоснована замена пропусков медианой: медиана устойчива к выбросам, лучше отражает типичный уровень выборки и легко вычисляется.

6. **Выводы:** наиболее надёжные заемщики — люди без детей, вдовы/вдовцы или состоящие в браке/разведённые, с доходом категории D, берущие ипотечный кредит или кредит на свадьбу. Наиболее рискованные — клиенты с 1–2 детьми, не состоящие в браке, с низким доходом (E), оформляющие образовательный кредит или автокредит.

**Стек:** Python (pandas, numpy), визуализация — matplotlib, seaborn.
